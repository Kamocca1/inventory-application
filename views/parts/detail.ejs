<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        <%= part.name || 'Part Details' %>
    </title>
    <link rel="stylesheet" href="/styles.css" />
</head>

<body>
    <%- include("../partials/nav") %>

        <div class="container">
            <div class="detail-section">
                <div class="detail-header">
                    <h1 class="detail-title">
                        <%= part.name || 'Part Details' %>
                    </h1>
                    <div class="detail-actions">
                        <% if (part.sku) { %>
                            <span class="badge">
                                <%= part.sku %>
                            </span>
                            <% } %>
                                <% if (user && user.admin) { %>
                                    <a href="/parts/<%= part.id %>/edit" class="badge badge-primary">Edit</a>
                                    <form method="POST" action="/parts/<%= part.id %>/delete" style="display: inline"
                                        onsubmit="return confirm('Are you sure you want to delete this part? This action cannot be undone.')">
                                        <button type="submit" class="badge badge-danger"
                                            style="border: none; cursor: pointer">
                                            Delete
                                        </button>
                                    </form>
                                    <% } %>
                    </div>
                </div>

                <div class="detail-grid">
                    <div class="detail-label">Name:</div>
                    <div class="detail-value">
                        <%= part.name || 'N/A' %>
                    </div>

                    <div class="detail-label">SKU:</div>
                    <div class="detail-value mono">
                        <%= part.sku || 'N/A' %>
                    </div>

                    <div class="detail-label">BMW OEM Number:</div>
                    <div class="detail-value mono">
                        <%= part.bmw_oem_number || 'N/A' %>
                    </div>

                    <div class="detail-label">Description:</div>
                    <div class="detail-value">
                        <%= part.description || 'N/A' %>
                    </div>

                    <div class="detail-label">Brand:</div>
                    <div class="detail-value">
                        <%= part.brand || 'N/A' %>
                    </div>

                    <div class="detail-label">Supplier:</div>
                    <div class="detail-value">
                        <%= part.supplier || 'N/A' %>
                    </div>

                    <div class="detail-label">Price:</div>
                    <div class="detail-value">
                        <% if (part.price_cents) { %>
                            <%= (part.price_cents / 100).toFixed(2) %>
                                <%= part.currency || 'USD' %>
                                    <% } else { %> N/A <% } %>
                    </div>

                    <div class="detail-label">Stock Quantity:</div>
                    <div class="detail-value">
                        <%= part.stock_quantity || 0 %>
                    </div>

                    <div class="detail-label">Min Stock Level:</div>
                    <div class="detail-value">
                        <%= part.min_stock_level || 0 %>
                    </div>

                    <div class="detail-label">Location:</div>
                    <div class="detail-value">
                        <%= part.location || 'N/A' %>
                    </div>

                    <div class="detail-label">Weight:</div>
                    <div class="detail-value">
                        <% if (part.weight_kg) { %>
                            <%= part.weight_kg %> kg <% } else { %> N/A <% } %>
                    </div>

                    <div class="detail-label">Category ID:</div>
                    <div class="detail-value mono">
                        <%= part.category_id || 'N/A' %>
                    </div>

                    <div class="detail-label">Created:</div>
                    <div class="detail-value muted">
                        <%= part.created_at || 'N/A' %>
                    </div>

                    <div class="detail-label">Updated:</div>
                    <div class="detail-value muted">
                        <%= part.updated_at || 'N/A' %>
                    </div>
                </div>
            </div>

            <div class="nav-actions">
                <a href="/parts" class="link">‚Üê Back to Parts</a>
            </div>
        </div>
</body>

</html>